"use strict";function asyncGeneratorStep(e,t,n,o,r,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,o,r,a,c,"next",e)}function c(e){asyncGeneratorStep(i,o,r,a,c,"throw",e)}a(void 0)}))}}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(){NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),NamedNodeMap.prototype[Symbol.iterator]||(NamedNodeMap.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);var e={init:function(e){var t=this;this.navbar=document.querySelector(".navbar"),this.scroll(),e&&(window.addEventListener("scroll",(function(){return t.scroll()})),document.querySelector("#toggle-menu").addEventListener("click",(function(){return c.toggle()})),document.querySelector("#back-to-top").addEventListener("click",(function(){try{window.scrollTo({top:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}})))},scroll:function(){var e=document.documentElement.scrollTop||window.scrollY;this.navbar.classList.toggle("navbar-active",e>0)}},t={init:function(e){var t=this;e&&(this.isDesktop=document.documentElement.clientWidth>768,this.callbacks=[],window.addEventListener("resize",(function(){var e=document.documentElement.clientWidth>768;if(t.isDesktop!==e){t.isDesktop=e,document.body.classList.add("no-transition");var n,o=_createForOfIteratorHelper(t.callbacks);try{for(o.s();!(n=o.n()).done;){(0,n.value)(e)}}catch(e){o.e(e)}finally{o.f()}setTimeout((function(){document.body.classList.remove("no-transition")}),20)}})))}},n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:199;_classCallCheck(this,e),this.element=null,this.hideTimer=-1,this.zIndex=t,this.onshow=function(){},this.onshown=function(){},this.onhide=function(){},this.onhidden=function(){},this.onclick=function(){}}return _createClass(e,[{key:"ensureElement",value:function(){null===this.element&&(this.element=document.createElement("div"),this.element.className="backdrop",this.element.style.zIndex=this.zIndex,this.element.addEventListener("click",this.onclick),document.body.appendChild(this.element),e.count++,document.body.classList.add("no-overflow"),document.body.clientHeight>document.documentElement.clientHeight&&document.body.classList.add("fix-overflow"))}},{key:"setOpacity",value:function(e){null!==this.element&&(this.element.style.opacity=e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(this.hideTimer),this.hideTimer=-1,this.ensureElement(),this.onshow(),t?(this.element.style.opacity=1,this.onshown()):(setTimeout((function(){e.element.style.opacity=1}),20),setTimeout((function(){return e.onshown()}),250))}},{key:"hide",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==this.element){this.onhide(),this.element.style.opacity=0;var o=function(){t.element.remove(),t.element=null,0==--e.count&&(document.body.classList.remove("no-overflow"),document.body.classList.remove("fix-overflow")),t.onhidden()};n?o():-1===this.hideTimer&&(this.hideTimer=setTimeout((function(){t.hideTimer=-1,o()}),250))}}},{key:"beginSwipe",value:function(){this.ensureElement(),this.element.style.transition="none"}},{key:"endSwipe",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.element.style.removeProperty("transition"),e?this.show():this.hide()}}],[{key:"init",value:function(){var e=document.createElement("div");e.style.overflowX="scroll",document.body.appendChild(e),document.body.style.setProperty("--scrollbar-size","".concat(e.offsetHeight,"px")),e.remove()}}]),e}();function o(e,t,n){return Math.min(Math.max(e,t),n)}_defineProperty(n,"count",0);var r,i,a,c={close:function(){this.backdrop.hide()},toggle:function(){var e=this,n=document.body.classList.toggle("sidebar-toggled");t.isDesktop?localStorage.setItem("sidebar-toggled",n):(this.backdrop.show(),this.sidebar.style.left="-240px",setTimeout((function(){e.sidebar.style.removeProperty("left")}),20))},init:function(e){var r=this;if(e){n.init(),this.sidebar=document.querySelector(".sidebar"),this.backdrop=new n,this.disabled=!1,this.backdrop.onshow=function(){document.body.classList.add("sidebar-toggled")},this.backdrop.onhide=function(){document.body.classList.remove("sidebar-toggled"),r.sidebar.style.display="block"},this.backdrop.onhidden=function(){r.sidebar.style.removeProperty("display")},this.backdrop.onclick=function(){return r.backdrop.hide()},t.callbacks.push((function(e){e?(document.body.classList.toggle("sidebar-toggled","true"==localStorage.getItem("sidebar-toggled")),r.backdrop.hide(!0)):document.body.classList.remove("sidebar-toggled")})),"true"===localStorage.getItem("sidebar-toggled")&&t.isDesktop&&(document.body.classList.add("no-transition"),document.body.classList.add("sidebar-toggled"),setTimeout((function(){document.body.classList.remove("no-transition")}),20));var i=24,a=0,c=0,s=!1,l=!1;window.addEventListener("touchstart",(function(e){a=e.touches[0].clientX,c=0,l=!1,t.isDesktop||r.disabled||!(document.body.classList.contains("sidebar-toggled")||a<24)||(s=!0)})),window.addEventListener("touchmove",(function(e){if(s){c=e.touches[0].clientX-a;var t=document.body.classList.contains("sidebar-toggled");if(t?c<-24:c>i)if(l||(l=!0,r.sidebar.style.transition="none",r.sidebar.style.display="block",r.backdrop.beginSwipe()),t){var n=o(c+i,-r.sidebar.clientWidth,0);r.sidebar.style.left="".concat(n,"px"),r.backdrop.setOpacity(1+n/r.sidebar.clientWidth)}else{var d=o(c-i,0,r.sidebar.clientWidth);r.sidebar.style.left="".concat(d-r.sidebar.clientWidth,"px"),r.backdrop.setOpacity(d/r.sidebar.clientWidth)}}})),window.addEventListener("touchend",(function(){if(s){s=!1,r.sidebar.style.removeProperty("left"),r.sidebar.style.removeProperty("transition");var e=document.body.classList.contains("sidebar-toggled"),t=e?c>-24:c>i;e!==t&&r.backdrop.endSwipe(t),t&&r.sidebar.style.removeProperty("display")}}));var d,u=_createForOfIteratorHelper(this.sidebar.querySelectorAll(".menu-link"));try{for(u.s();!(d=u.n()).done;){d.value.addEventListener("click",(function(){r.backdrop.hide()}))}}catch(e){u.e(e)}finally{u.f()}}}},s={init:function(e){e&&Waves.init(),Waves.attach(".btn-icon"),Waves.attach(".menu-link"),Waves.attach(".post-link"),Waves.attach(".chip"),Waves.attach(".filter a"),Waves.attach("a.paginator-item"),Waves.attach("#settings-dialog button")}},l={init:function(e){if(e){var t,r={size:[2,"12px","14px","16px","18px","20px","22px","24px","26px","28px","32px","40px","56px","72px","96px","128px"],width:[4,"40em","45em","50em","55em","60em","65em","70em","75em","80em"],line:[3,"1.0em","1.2em","1.4em","1.6em","1.8em","2.0em","2.2em","2.4em","2.6em"]},i=document.querySelector("#settings-dialog"),a=_createForOfIteratorHelper(i.querySelectorAll("[data-select]"));try{var s=function(){var e=t.value,n=e.dataset.select,o=localStorage.getItem(n)||e.dataset.default,r=null;document.body.classList.add(n+"-"+o);var i,a=_createForOfIteratorHelper(e.children);try{var c=function(){var e=i.value;e.dataset.option==o&&(r=e).classList.add("active"),e.addEventListener("click",(function(){var t;null===(t=r)||void 0===t||t.classList.remove("active"),document.body.classList.remove(n+"-"+o),o=e.dataset.option,r=e,localStorage.setItem(n,o),r.classList.add("active"),document.body.classList.add(n+"-"+o)}))};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}};for(a.s();!(t=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}var l,d=_createForOfIteratorHelper(i.querySelectorAll("[data-adjust]"));try{var u=function(){var e=l.value,t=e.dataset.adjust,n=_toArray(r[t]),o=n[0],i=n.slice(1),a=localStorage.getItem(t)||i[o],c=e.querySelector("[data-label]"),s=i.indexOf(a);-1==s&&(s=o),c.textContent=s+1,document.body.style.setProperty("--"+t,i[s]),e.querySelector("[data-minus]").addEventListener("click",(function(){s=Math.max(s-1,0),c.textContent=s+1,localStorage.setItem(t,i[s]),document.body.style.setProperty("--"+t,i[s])})),e.querySelector("[data-plus]").addEventListener("click",(function(){s=Math.min(s+1,i.length-1),c.textContent=s+1,localStorage.setItem(t,i[s]),document.body.style.setProperty("--"+t,i[s])}))};for(d.s();!(l=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}var y=new n(299);y.onshow=function(){i.classList.add("open"),c.disabled=!0},y.onhide=function(){i.style.bottom="-".concat(i.clientHeight,"px"),c.disabled=!1},y.onhidden=function(){i.classList.remove("open"),i.style.removeProperty("bottom")},y.onclick=function(){return y.hide()},document.querySelector("#settings").addEventListener("click",(function(){c.close(),y.show(),i.style.transition="none",i.style.bottom="-".concat(i.clientHeight,"px"),setTimeout((function(){i.style.removeProperty("bottom"),i.style.removeProperty("transition")}),20)}));var f=0,m=0,p=!1,h=!1;window.addEventListener("touchstart",(function(e){f=e.touches[0].clientY,m=0,h=!1,i.classList.contains("open")&&(p=!0)})),window.addEventListener("touchmove",(function(e){if(p&&(m=e.touches[0].clientY-f)>24){h||(h=!0,i.style.transition="none",y.beginSwipe());var t=o(m-24,0,i.clientHeight);i.style.bottom="-".concat(t,"px"),y.setOpacity(1-t/i.clientHeight)}})),window.addEventListener("touchend",(function(){p&&(p=!1,i.style.removeProperty("bottom"),i.style.removeProperty("transition"),m>24&&y.endSwipe(!1))}))}}};var d=null;function u(e){return y.apply(this,arguments)}function y(){return(y=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,o,c,s,l,u,y,m,p,h,v,b,g,w,S,k,L,x,A,_,T,E,I,P,q,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===d){n=_createForOfIteratorHelper(window.pageModules);try{for(n.s();!(o=n.n()).done;)(c=o.value).deinit&&c.deinit()}catch(e){n.e(e)}finally{n.f()}}else d.progress.remove(),d.cancelled=!0,clearInterval(d.progressTimer);return(s=document.createElement("div")).className="page-progress",s.style.width="0",document.querySelector(".navbar").appendChild(s),l=0,u=setInterval((function(){l=Math.min(l+10*Math.random(),90),s.style.width="".concat(l,"%")}),100),d=y={progress:s,progressTimer:u,cancelled:!1},e.next=11,fetch(t);case 11:return e.next=13,e.sent.text();case 13:if(m=e.sent,!y.cancelled){e.next=16;break}return e.abrupt("return");case 16:d=null,p=(new DOMParser).parseFromString(m,"text/html"),h=[],v=_createForOfIteratorHelper(p.querySelectorAll("[rel=stylesheet]"));try{for(v.s();!(b=v.n()).done;)g=b.value,w=g.getAttribute("href"),a.has(w)||function(){a.add(w);var e=document.adoptNode(g);h.push(new Promise((function(t){return e.addEventListener("load",t)}))),document.head.appendChild(e)}()}catch(e){v.e(e)}finally{v.f()}i.clear(),S=_createForOfIteratorHelper(p.querySelectorAll("body > script"));try{for(S.s();!(k=S.n()).done;)L=k.value,x=L.getAttribute("src"),i.add(x),r.has(x)||function(){r.add(x);var e=document.createElement("script");h.push(new Promise((function(t){return e.addEventListener("load",t)}))),e.src=x,document.body.appendChild(e)}()}catch(e){S.e(e)}finally{S.f()}return e.next=26,Promise.all(h);case 26:if(!y.cancelled){e.next=28;break}return e.abrupt("return");case 28:s.style.width="100%",s.style.opacity="1",clearInterval(u),setTimeout((function(){s.style.opacity="0"}),250),setTimeout((function(){s.remove()}),500),A=document.adoptNode(p.querySelector("#content")),document.querySelector("#content").replaceWith(A),document.querySelector(".navbar").className=p.querySelector(".navbar").className,document.querySelector(".navbar-title").textContent=p.querySelector(".navbar-title").textContent,document.title=p.title,_=_createForOfIteratorHelper(A.querySelectorAll("script"));try{for(_.s();!(T=_.n()).done;){E=T.value,I=document.createElement("script"),P=_createForOfIteratorHelper(E.attributes);try{for(P.s();!(q=P.n()).done;)O=q.value,I.setAttribute(O.name,O.value)}catch(e){P.e(e)}finally{P.f()}I.textContent=E.textContent,E.replaceWith(I)}}catch(e){_.e(e)}finally{_.f()}window.scrollTo(0,0),f();case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){var e,t=_createForOfIteratorHelper(window.pageModules);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.script&&!i.has(n.script)||(n.init(!n.executed),n.executed=!0)}}catch(e){t.e(e)}finally{t.f()}}window.pageModules=[e,t,c,s,l],window.addEventListener("popstate",(function(){u(location.href)})),window.addEventListener("click",(function(e){if(!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.defaultPrevented)){var t=function(e){for(;e;){if("A"==e.tagName)return e;e=e.parentNode}return null}(e.target);t&&location.protocol===t.protocol&&location.host===t.host&&function(e){return"_self"===e.target||""===e.target||("_top"===e.target||"_parent"===e.target)&&window.parent===window}(t)&&"skip"!==t.dataset.pjax&&(location.pathname===t.pathname&&""!==t.hash||(e.preventDefault(),history.pushState(null,"",t.href),u(t.href).catch((function(e){console.error("PJAX: PJAX failed, fallback to set location.href"),console.error(e),location.href=t.href}))))}})),document.addEventListener("DOMContentLoaded",(function(){r=new Set(Array.from(document.querySelectorAll("script")).map((function(e){return e.getAttribute("src")}))),i=new Set(r),a=new Set(Array.from(document.querySelectorAll("[rel=stylesheet]")).map((function(e){return e.getAttribute("href")}))),f()}))}();